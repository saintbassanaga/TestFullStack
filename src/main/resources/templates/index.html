<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <title>Products</title>
    <!-- HTMX -->
    <script src="https://unpkg.com/htmx.org@1.9.3"></script>

    <!-- WebAwesome UI -->
    <link rel="stylesheet" href="https://early.webawesome.com/webawesome@3.0.0-beta.4/dist/styles/webawesome.css"/>
    <script type="module" src="https://early.webawesome.com/webawesome@3.0.0-beta.4/dist/webawesome.loader.js"></script>
</head>
<body class="wa-body">

<header class="wa-mb--lg">
    <h1>Products</h1>
</header>

<!-- Sorting Controls -->
<div class="wa-stack wa-stack--row wa-mb--md wa-gap--md">
    <label class="wa-form-group">
        Sort by
        <select id="sort" name="sort" class="wa-select"
                hx-get="/products"
                hx-target="#products-table"
                hx-swap="outerHTML">
            <option value="newest" selected>Newest</option>
            <option value="priceAsc">Price: Low to High</option>
            <option value="priceDesc">Price: High to Low</option>
        </select>
    </label>

    <!-- Load Products Button -->
    <button class="wa-btn wa-btn--primary"
            hx-get="/products"
            hx-target="#products-table"
            hx-swap="outerHTML"
            hx-include="#sort">
        Load Products
    </button>
</div>

<!-- Table container -->
<div id="products-table" class="wa-table-container">
    <table class="wa-table wa-table--bordered">
        <thead>
        <tr>
            <th>Title</th>
            <th>Price</th>
            <th>Variants</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td colspan="4">No products loaded yet.</td>
        </tr>
        </tbody>
    </table>
</div>

<!-- Add Product Form -->
<section class="wa-stack">
    <h3>Add Product</h3>
    <form hx-post="/products" hx-target="#products-table" hx-swap="outerHTML" class="wa-form wa-mt--md ">
        <div class="wa-grid" style="--min-column-size: 6rem;">
            <div class="wa-form-group wa-gap-s">
                <label>
                    Title
                    <input type="text" name="title" class="wa-input" placeholder="Title" required>
                </label>

            </div>
            <div class="wa-form-group ">
                <label>
                    Price
                    <input type="number" step="0.11" name="price" class="wa-input" placeholder="Price" required>
                </label>
            </div>

            <button type="submit" class="wa-button wa-mb--md wa-btn--success">Add</button>
        </div>


    </form>
</section>

</body>
</html>
